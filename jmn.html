<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>jmn's Emacs configuration</title>
<!-- 2015-02-08 sÃ¶n 07:29 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="jmn" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<link rel="stylesheet" href="/css/base.css" type="text/css" />
</head>
<body>
<div id="content">
<h1 class="title">jmn's Emacs configuration</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. Configuration</a>
<ul>
<li><a href="#sec-1-1">1.1. About this file</a>
<ul>
<li><a href="#sec-1-1-1">1.1.1. Configure ~/.emacs.d/init.el</a></li>
</ul>
</li>
<li><a href="#sec-1-2">1.2. Personal information</a></li>
<li><a href="#sec-1-3">1.3. Emacs initialization</a>
<ul>
<li><a href="#sec-1-3-1">1.3.1. Install packages if necessary</a></li>
<li><a href="#sec-1-3-2">1.3.2. Add my elisp directory and other files</a></li>
<li><a href="#sec-1-3-3">1.3.3. Paths</a></li>
<li><a href="#sec-1-3-4">1.3.4. Inhibit startup message</a></li>
<li><a href="#sec-1-3-5">1.3.5. Start the edit server</a></li>
</ul>
</li>
<li><a href="#sec-1-4">1.4. General configuration</a>
<ul>
<li><a href="#sec-1-4-1">1.4.1. Appearance</a>
<ul>
<li><a href="#sec-1-4-1-1">1.4.1.1. Theme</a></li>
<li><a href="#sec-1-4-1-2">1.4.1.2. Line numbers</a></li>
<li><a href="#sec-1-4-1-3">1.4.1.3. Fonts</a></li>
</ul>
</li>
<li><a href="#sec-1-4-2">1.4.2. Backups</a></li>
<li><a href="#sec-1-4-3">1.4.3. Window configuration</a>
<ul>
<li><a href="#sec-1-4-3-1">1.4.3.1. Toolbars, menus et c</a></li>
<li><a href="#sec-1-4-3-2">1.4.3.2. Window Transparency</a></li>
<li><a href="#sec-1-4-3-3">1.4.3.3. Fullscreen</a></li>
</ul>
</li>
<li><a href="#sec-1-4-4">1.4.4. Modes</a>
<ul>
<li><a href="#sec-1-4-4-1">1.4.4.1. Mode hooks</a></li>
<li><a href="#sec-1-4-4-2">1.4.4.2. Version Control</a></li>
<li><a href="#sec-1-4-4-3">1.4.4.3. Twittering-mode</a></li>
</ul>
</li>
<li><a href="#sec-1-4-5">1.4.5. Useful extra functions</a>
<ul>
<li><a href="#sec-1-4-5-1">1.4.5.1. Sudoedit, edit file as root</a></li>
</ul>
</li>
<li><a href="#sec-1-4-6">1.4.6. Minibuffer</a></li>
</ul>
</li>
<li><a href="#sec-1-5">1.5. Platform specific configuration</a>
<ul>
<li><a href="#sec-1-5-1">1.5.1. Windows specific settings</a></li>
<li><a href="#sec-1-5-2">1.5.2. MacOS specific settings</a>
<ul>
<li><a href="#sec-1-5-2-1">1.5.2.1. Notes</a></li>
<li><a href="#sec-1-5-2-2">1.5.2.2. Configuration</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-1-6">1.6. Keybindings</a>
<ul>
<li>
<ul>
<li><a href="#sec-1-6-0-1">1.6.0.1. Fonts, themes et c</a></li>
<li><a href="#sec-1-6-0-2">1.6.0.2. Global org-mode bindings</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-1-7">1.7. Activity specific configuration ('cuz polycephaly)</a>
<ul>
<li><a href="#sec-1-7-1">1.7.1. Writing</a>
<ul>
<li><a href="#sec-1-7-1-1">1.7.1.1. ASCIIDoc mode (adoc-mode)</a></li>
<li><a href="#sec-1-7-1-2">1.7.1.2. Visual line mode in text (and org) files</a></li>
</ul>
</li>
<li><a href="#sec-1-7-2">1.7.2. Note-taking, activity management with org-mode</a>
<ul>
<li><a href="#sec-1-7-2-1">1.7.2.1. Inline code (org-babel)</a></li>
<li><a href="#sec-1-7-2-2">1.7.2.2. org-capture templates</a></li>
<li><a href="#sec-1-7-2-3">1.7.2.3. Notes</a></li>
<li><a href="#sec-1-7-2-4">1.7.2.4. Faces</a></li>
<li><a href="#sec-1-7-2-5">1.7.2.5. Monospace fonts for tables, quotes et c</a></li>
<li><a href="#sec-1-7-2-6">1.7.2.6. Publishing from org-mode</a></li>
</ul>
</li>
<li><a href="#sec-1-7-3">1.7.3. Programming</a>
<ul>
<li><a href="#sec-1-7-3-1">1.7.3.1. Go autocomplete</a></li>
<li><a href="#sec-1-7-3-2">1.7.3.2. Clojure</a></li>
<li><a href="#sec-1-7-3-3">1.7.3.3. Magit - nice git interface</a></li>
</ul>
</li>
<li><a href="#sec-1-7-4">1.7.4. Editing</a>
<ul>
<li><a href="#sec-1-7-4-1">1.7.4.1. Digits increment/decrement</a></li>
</ul>
</li>
<li><a href="#sec-1-7-5">1.7.5. Diffing (ediff)</a>
<ul>
<li><a href="#sec-1-7-5-1">1.7.5.1. Ediff for org-files</a></li>
</ul>
</li>
<li><a href="#sec-1-7-6">1.7.6. IRC</a></li>
<li><a href="#sec-1-7-7">1.7.7. Jabber (XMPP)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Configuration</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1"><span class="section-number-3">1.1</span> About this file</h3>
<div class="outline-text-3" id="text-1-1">
<p>
Inspired by Sacha Chua's configuration. Parts of this file are directly copied from their configuration.
See <a href="http://dl.dropboxusercontent.com/u/3968124/sacha-emacs.html">http://dl.dropboxusercontent.com/u/3968124/sacha-emacs.html</a>
and <a href="http://dl.dropboxusercontent.com/u/3968124/sacha-emacs.org">http://dl.dropboxusercontent.com/u/3968124/sacha-emacs.org</a>
</p>

<p>
This configuration file uses org-babel to load. Load this file using
<code>(org-babel-load-file "/path/to/file")</code>,
changing the path appropriately, but you'll probably want to tweak it
extensively first. 
</p>

<p>
Tips:
</p>
<ul class="org-ul">
<li>To edit source code blocks in org-mode, hit =C-c '=
</li>
<li>To show syntax highligting in code blocks use <code>M-x org-src-fontify-buffer</code>
</li>
</ul>
</div>

<div id="outline-container-sec-1-1-1" class="outline-4">
<h4 id="sec-1-1-1"><span class="section-number-4">1.1.1</span> Configure ~/.emacs.d/init.el</h4>
<div class="outline-text-4" id="text-1-1-1">
<p>
To load this file when Emacs starts I put the following code into <code>~/.emacs.d/init.el</code>:
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #b3b3b3; font-style: italic;">;; </span><span style="color: #b3b3b3; font-style: italic;">This sets up the load path so that we can override it</span>
(package-initialize nil)
<span style="color: #b3b3b3; font-style: italic;">;; </span><span style="color: #b3b3b3; font-style: italic;">Override the packages with the git version of Org and other packages</span>
(add-to-list 'load-path <span style="color: #606060;">"~/git/org-mode/lisp"</span>)
(add-to-list 'load-path <span style="color: #606060;">"~/git/org-mode/contrib/lisp"</span>)
<span style="color: #b3b3b3; font-style: italic;">;; </span><span style="color: #b3b3b3; font-style: italic;">Load the rest of the packages</span>
(package-initialize t)
(setq package-enable-at-startup nil)
(<span style="color: #000000; font-weight: bold;">require</span> '<span style="color: #303030; font-weight: bold;">org</span>)
(<span style="color: #000000; font-weight: bold;">require</span> '<span style="color: #303030; font-weight: bold;">ob-tangle</span>)
(org-babel-load-file (expand-file-name <span style="color: #606060;">"~/git/notes/jmn.org"</span>))
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2"><span class="section-number-3">1.2</span> Personal information</h3>
<div class="outline-text-3" id="text-1-2">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(setq user-full-name <span style="color: #606060;">"jmn"</span>
      user-mail-address <span style="color: #606060;">"norlund@gmail.com"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3"><span class="section-number-3">1.3</span> Emacs initialization</h3>
<div class="outline-text-3" id="text-1-3">
</div><div id="outline-container-sec-1-3-1" class="outline-4">
<h4 id="sec-1-3-1"><span class="section-number-4">1.3.1</span> Install packages if necessary</h4>
<div class="outline-text-4" id="text-1-3-1">
<p>
ELPA makes it easy to install packages without tracking down all the
different websites. Let's define a function that makes it easy to
install packages.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #b3b3b3; font-style: italic;">;; </span><span style="color: #b3b3b3; font-style: italic;">FIXME: On some versions of Emacs 24.4 this function is strangely broken.</span>
(<span style="color: #000000; font-weight: bold;">defun</span> <span style="color: #000000;">jmn/package-install</span> (package <span style="color: #303030; font-weight: bold;">&amp;optional</span> repository)
  <span style="color: #606060;">"Install PACKAGE if it has not yet been installed.</span>
<span style="color: #606060;">If REPOSITORY is specified, use that."</span>
  (<span style="color: #000000; font-weight: bold;">unless</span> (package-installed-p package)
    (<span style="color: #000000; font-weight: bold;">let</span> ((package-archives (<span style="color: #000000; font-weight: bold;">if</span> repository
                                (list (assoc repository package-archives))
                              package-archives)))
    (package-install package))))
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-3-2" class="outline-4">
<h4 id="sec-1-3-2"><span class="section-number-4">1.3.2</span> Add my elisp directory and other files</h4>
<div class="outline-text-4" id="text-1-3-2">
<div class="org-src-container">

<pre class="src src-emacs-lisp"> (add-to-list 'load-path <span style="color: #606060;">"~/.emacs.d/elisp"</span>)
 (add-to-list 'load-path <span style="color: #606060;">"~/elisp"</span>)
<span style="color: #b3b3b3; font-style: italic;">; </span><span style="color: #b3b3b3; font-style: italic;">(load-file "~/.emacs.secrets")        ; Contains private information</span>
(add-to-list 'package-archives '(<span style="color: #606060;">"org"</span> . <span style="color: #606060;">"http://orgmode.org/elpa/"</span>) t)
(add-to-list 'package-archives '(<span style="color: #606060;">"melpa"</span> . <span style="color: #606060;">"http://melpa.milkbox.net/packages/"</span>) t)
(<span style="color: #000000; font-weight: bold;">unless</span> (package-installed-p 'use-package)
  (package-install 'use-package))
(<span style="color: #000000; font-weight: bold;">require</span> '<span style="color: #303030; font-weight: bold;">use-package</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-3-3" class="outline-4">
<h4 id="sec-1-3-3"><span class="section-number-4">1.3.3</span> Paths</h4>
<div class="outline-text-4" id="text-1-3-3">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(setq exec-path (append exec-path '(<span style="color: #606060;">"/usr/local/bin"</span>)))
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-3-4" class="outline-4">
<h4 id="sec-1-3-4"><span class="section-number-4">1.3.4</span> Inhibit startup message</h4>
<div class="outline-text-4" id="text-1-3-4">
<div class="org-src-container">

<pre class="src src-emacs-lisp"> (setq inhibit-startup-buffer-menu t)
 (setq inhibit-startup-echo-area-message nil)
 (setq inhibit-startup-screen t)
 (setq initial-scratch-message <span style="color: #606060;">";; Scratch buffer </span>
<span style="color: #606060;">"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-3-5" class="outline-4">
<h4 id="sec-1-3-5"><span class="section-number-4">1.3.5</span> Start the edit server</h4>
<div class="outline-text-4" id="text-1-3-5">
<p>
For use with "emacsclient".
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(server-start)
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-1-4" class="outline-3">
<h3 id="sec-1-4"><span class="section-number-3">1.4</span> General configuration</h3>
<div class="outline-text-3" id="text-1-4">
</div><div id="outline-container-sec-1-4-1" class="outline-4">
<h4 id="sec-1-4-1"><span class="section-number-4">1.4.1</span> Appearance</h4>
<div class="outline-text-4" id="text-1-4-1">
</div><div id="outline-container-sec-1-4-1-1" class="outline-5">
<h5 id="sec-1-4-1-1"><span class="section-number-5">1.4.1.1</span> Theme</h5>
<div class="outline-text-5" id="text-1-4-1-1">
<p>
Good themes (dark): tango-dark, monokai, solarized-dark, heroku, minimal (no colors), monochrome (same, misterioso).
light themes: solarized-light, anti-zenburn
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(setq monokai-use-variable-pitch nil)
(setq visible-bell 1)                   <span style="color: #b3b3b3; font-style: italic;">; </span><span style="color: #b3b3b3; font-style: italic;">Disables the audible bell.</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-4-1-2" class="outline-5">
<h5 id="sec-1-4-1-2"><span class="section-number-5">1.4.1.2</span> Line numbers</h5>
<div class="outline-text-5" id="text-1-4-1-2">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(setq linum-format <span style="color: #606060;">" %4d   "</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-4-1-3" class="outline-5">
<h5 id="sec-1-4-1-3"><span class="section-number-5">1.4.1.3</span> Fonts</h5>
<div class="outline-text-5" id="text-1-4-1-3">
<p>
The default font is used for most faces. Sometimes I want to use a
serif font non-monospace font such as Times New roman or Gotham HTF
and other times I prefer a monospace font such as Consolas (Windows),
Monaco (Mac) or Dejavu Sans (GNU/Linux).
</p>

<p>
Reminder (to self): To experiment with font selection, use the menu then the <code>C-u C-x =</code> command to 
find the name of the font used.
</p>

<p>
I use a non-monospace font as the default and use
variable-pitch-mode when I want a monospaced font which seems kind of
reverse - but it works. I even bind a key (F12) to switch between the two settings. It's great.
</p>

<p>
Other faces, besides "default"  which you might want to set fonts for are: "fixed-pitch" and "linum".
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #000000; font-weight: bold;">require</span> '<span style="color: #303030; font-weight: bold;">cl</span>)
  (<span style="color: #000000; font-weight: bold;">defun</span> <span style="color: #000000;">font-candidate</span> (<span style="color: #303030; font-weight: bold;">&amp;rest</span> fonts)
     <span style="color: #606060;">"Return existing font which first match."</span>
     (find-if (<span style="color: #000000; font-weight: bold;">lambda</span> (f) (find-font (font-spec <span style="color: #303030;">:name</span> f))) fonts))
</pre>
</div>

<p>
Choose which block to tangle depending on font preference. See also
the variable-pitch-mode for when you want to default to monospace but
sometimes toggle to use "variable pitch".
</p>

<p>
Alternative serif fonts on Windows: Cambria, Times New Roman, Gotham HTF Light (?)
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #000000; font-weight: bold;">when</span> window-system
(set-face-attribute 'default nil <span style="color: #303030;">:font</span> (font-candidate '<span style="color: #606060;">"Times New Roman-14:weight=normal:height:120"</span> <span style="color: #606060;">"Liberation Serif-12"</span> <span style="color: #606060;">"FreeSerif-14"</span> <span style="color: #606060;">"DejaVu Sans Mono-10:weight=normal"</span> <span style="color: #606060;">"Gill Sans-14"</span>))
)
</pre>
</div>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #000000; font-weight: bold;">when</span> window-system
(set-face-attribute 'default nil <span style="color: #303030;">:font</span> (font-candidate '<span style="color: #606060;">"Consolas-14:weight=normal:height=160"</span> <span style="color: #606060;">"DejaVu Sans Mono-11:weight=normal"</span>))
)
</pre>
</div>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #000000; font-weight: bold;">when</span> window-system
(set-face-attribute 'variable-pitch nil <span style="color: #303030;">:font</span> (font-candidate '<span style="color: #606060;">"Consolas-14:weight=normal:height=160"</span> <span style="color: #606060;">"DejaVu Sans Mono-10:weight=normal"</span>))
)
</pre>
</div>

<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #b3b3b3; font-style: italic;">;; </span><span style="color: #b3b3b3; font-style: italic;">(set-face-attribute 'linum nil :font (font-candidate '"Cambria-14" "Times New Roman-14:weight=normal:height:120" "DejaVu Sans Mono-10:weight=normal" "Gill Sans-14"))</span>
<span style="color: #b3b3b3; font-style: italic;">;; </span><span style="color: #b3b3b3; font-style: italic;">(set-face-attribute 'linum nil :font (font-candidate ' "Times New Roman-14:weight=normal:height:120" "DejaVu Sans Mono-10:weight=normal" "Gill Sans-14"))</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-1-4-2" class="outline-4">
<h4 id="sec-1-4-2"><span class="section-number-4">1.4.2</span> Backups</h4>
<div class="outline-text-4" id="text-1-4-2">
<p>
This is one of the things people usually want to change right away. By default, Emacs saves backup files in the current directory. These are the files ending in <code>~</code> that are cluttering up your directory lists. The following code stashes them all in <code>~/.emacs.d/backups</code>, where I can find them with <code>C-x C-f</code> (<code>find-file</code>) if I really need to.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(setq backup-directory-alist '((<span style="color: #606060;">"."</span> . <span style="color: #606060;">"~/.emacs.d/backups"</span>)))
</pre>
</div>

<p>
Disk space is cheap. Save lots.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(setq delete-old-versions -1)
(setq version-control t)
(setq vc-make-backup-files t)
(setq auto-save-file-name-transforms '((<span style="color: #606060;">".*"</span> <span style="color: #606060;">"~/.emacs.d/auto-save-list/"</span> t)))
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-4-3" class="outline-4">
<h4 id="sec-1-4-3"><span class="section-number-4">1.4.3</span> Window configuration</h4>
<div class="outline-text-4" id="text-1-4-3">
</div><div id="outline-container-sec-1-4-3-1" class="outline-5">
<h5 id="sec-1-4-3-1"><span class="section-number-5">1.4.3.1</span> Toolbars, menus et c</h5>
<div class="outline-text-5" id="text-1-4-3-1">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #000000; font-weight: bold;">when</span> window-system
  (tooltip-mode -1)
  (tool-bar-mode -1)
  (menu-bar-mode -1)
  (set-fringe-mode 0)
)
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-4-3-2" class="outline-5">
<h5 id="sec-1-4-3-2"><span class="section-number-5">1.4.3.2</span> Window Transparency</h5>
<div class="outline-text-5" id="text-1-4-3-2">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #b3b3b3; font-style: italic;">;; </span><span style="color: #b3b3b3; font-style: italic;">Emacs Transparency</span>
<span style="color: #b3b3b3; font-style: italic;">;;</span><span style="color: #b3b3b3; font-style: italic;">(set-frame-parameter (selected-frame) 'alpha '(&lt;active&gt; [&lt;inactive&gt;]))</span>
(set-frame-parameter (selected-frame)  'alpha '(100 100))
<span style="color: #b3b3b3; font-style: italic;">;; </span><span style="color: #b3b3b3; font-style: italic;">(set-frame-parameter (selected-frame) 'alpha '(85 50))</span>
(add-to-list 'default-frame-alist '(alpha 100 100))

 (<span style="color: #000000; font-weight: bold;">eval-when-compile</span> (<span style="color: #000000; font-weight: bold;">require</span> '<span style="color: #303030; font-weight: bold;">cl</span>))
 (<span style="color: #000000; font-weight: bold;">defun</span> <span style="color: #000000;">toggle-transparency</span> ()
   (interactive)
   (<span style="color: #000000; font-weight: bold;">if</span> (/=
        (cadr (frame-parameter nil 'alpha))
        100)
       (set-frame-parameter nil 'alpha '(100 100))
     (set-frame-parameter nil 'alpha '(85 50))))
(global-set-key (kbd <span style="color: #606060;">"C-c t"</span>) 'toggle-transparency)
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-4-3-3" class="outline-5">
<h5 id="sec-1-4-3-3"><span class="section-number-5">1.4.3.3</span> Fullscreen</h5>
<div class="outline-text-5" id="text-1-4-3-3">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #000000; font-weight: bold;">if</span> (eq system-type 'gnu/linux)  <span style="color: #b3b3b3; font-style: italic;">; </span><span style="color: #b3b3b3; font-style: italic;">GNU/Linux uses the fullscreen-mode package</span>
 (<span style="color: #000000; font-weight: bold;">progn</span> 
 (<span style="color: #000000; font-weight: bold;">use-package</span> <span style="color: #303030; font-weight: bold;">fullscreen-mode</span>
 <span style="color: #303030;">:ensure</span> fullscreen-mode
 <span style="color: #303030;">:bind</span> 
 ((<span style="color: #606060;">"&lt;f4&gt;"</span> . fullscreen-mode-fullscreen-toggle))
 )))
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-1-4-4" class="outline-4">
<h4 id="sec-1-4-4"><span class="section-number-4">1.4.4</span> Modes</h4>
<div class="outline-text-4" id="text-1-4-4">
</div><div id="outline-container-sec-1-4-4-1" class="outline-5">
<h5 id="sec-1-4-4-1"><span class="section-number-5">1.4.4.1</span> Mode hooks</h5>
<div class="outline-text-5" id="text-1-4-4-1">
<p>
I want linum mode (line numbers) enabled in these modes:
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(add-hook 'text-mode-hook 'linum-mode)
</pre>
</div>

<p>
Trying auto-complete-mode in these modes:
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(add-hook 'text-mode-hook 'auto-complete-mode)
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-4-4-2" class="outline-5">
<h5 id="sec-1-4-4-2"><span class="section-number-5">1.4.4.2</span> Version Control</h5>
<div class="outline-text-5" id="text-1-4-4-2">
</div><ol class="org-ol"><li><a id="sec-1-4-4-2-1"></a>Magit<br  /><div class="outline-text-6" id="text-1-4-4-2-1">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #000000; font-weight: bold;">use-package</span> <span style="color: #303030; font-weight: bold;">magit</span>
<span style="color: #303030;">:ensure</span> magit
<span style="color: #303030;">:bind</span> (<span style="color: #606060;">"C-c m"</span> . magit-status))
</pre>
</div>
</div>
</li>
<li><a id="sec-1-4-4-2-2"></a>vc-check-status<br  /><div class="outline-text-6" id="text-1-4-4-2-2">
<p>
vc-check-status reminds about uncommitted and unpushed changes when exiting Emacs.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #000000; font-weight: bold;">use-package</span> <span style="color: #303030; font-weight: bold;">vc-check-status</span>
<span style="color: #303030;">:ensure</span> vc-check-status
<span style="color: #303030;">:init</span> 
(<span style="color: #000000; font-weight: bold;">progn</span>
(vc-check-status-activate 1))
)
</pre>
</div>
</div>
</li></ol>
</div>
<div id="outline-container-sec-1-4-4-3" class="outline-5">
<h5 id="sec-1-4-4-3"><span class="section-number-5">1.4.4.3</span> Twittering-mode</h5>
<div class="outline-text-5" id="text-1-4-4-3">
<p>
Send tweets using <code>M-x tweet</code>.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #000000; font-weight: bold;">use-package</span> <span style="color: #303030; font-weight: bold;">twittering-mode</span>
<span style="color: #303030;">:ensure</span> twittering-mode 
<span style="color: #303030;">:config</span> 
(<span style="color: #000000; font-weight: bold;">defalias</span> '<span style="color: #000000;">tweet</span> 'twittering-update-status-interactive)
)
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-1-4-5" class="outline-4">
<h4 id="sec-1-4-5"><span class="section-number-4">1.4.5</span> Useful extra functions</h4>
<div class="outline-text-4" id="text-1-4-5">
</div><div id="outline-container-sec-1-4-5-1" class="outline-5">
<h5 id="sec-1-4-5-1"><span class="section-number-5">1.4.5.1</span> Sudoedit, edit file as root</h5>
<div class="outline-text-5" id="text-1-4-5-1">
<p>
m-x sudoedit reopens the file as root. (<a href="http://emacsredux.com/blog/2013/04/21/edit-files-as-root/">source: emacsredux.com</a>)
</p>

<p>
Tip: It is also possible to do:
alias E="SUDO<sub>EDITOR</sub>=\"emacsclient -t -a emacs\" sudoedit"
in your shell. 
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #000000; font-weight: bold;">defun</span> <span style="color: #000000;">sudo-edit</span> (<span style="color: #303030; font-weight: bold;">&amp;optional</span> arg)
  <span style="color: #606060;">"Edit currently visited file as root.</span>

<span style="color: #606060;">With a prefix ARG prompt for a file to visit.</span>
<span style="color: #606060;">Will also prompt for a file to visit if current</span>
<span style="color: #606060;">buffer is not visiting a file."</span>
  (interactive <span style="color: #606060;">"P"</span>)
  (<span style="color: #000000; font-weight: bold;">if</span> (or arg (not buffer-file-name))
      (find-file (concat <span style="color: #606060;">"/sudo:root@localhost:"</span>
                         (ido-read-file-name <span style="color: #606060;">"Find file(as root): "</span>)))
    (find-alternate-file (concat <span style="color: #606060;">"/sudo:root@localhost:"</span> buffer-file-name))))
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-1-4-6" class="outline-4">
<h4 id="sec-1-4-6"><span class="section-number-4">1.4.6</span> Minibuffer</h4>
<div class="outline-text-4" id="text-1-4-6">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #000000; font-weight: bold;">require</span> '<span style="color: #303030; font-weight: bold;">uniquify</span>)
(setq uniquify-buffer-name-style 'post-forward-angle-brackets)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-1-5" class="outline-3">
<h3 id="sec-1-5"><span class="section-number-3">1.5</span> Platform specific configuration</h3>
<div class="outline-text-3" id="text-1-5">
</div><div id="outline-container-sec-1-5-1" class="outline-4">
<h4 id="sec-1-5-1"><span class="section-number-4">1.5.1</span> Windows specific settings</h4>
<div class="outline-text-4" id="text-1-5-1">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #000000; font-weight: bold;">if</span> (eq system-type 'windows-nt)  <span style="color: #b3b3b3; font-style: italic;">; </span><span style="color: #b3b3b3; font-style: italic;">Windows settings</span>
 (<span style="color: #000000; font-weight: bold;">progn</span> 
   (setq home <span style="color: #606060;">"c:/Users/jmn"</span>) 
   (setq default-directory <span style="color: #606060;">"c:/Users/jmn"</span>) 
   ))
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-5-2" class="outline-4">
<h4 id="sec-1-5-2"><span class="section-number-4">1.5.2</span> MacOS specific settings</h4>
<div class="outline-text-4" id="text-1-5-2">
</div><div id="outline-container-sec-1-5-2-1" class="outline-5">
<h5 id="sec-1-5-2-1"><span class="section-number-5">1.5.2.1</span> Notes</h5>
<div class="outline-text-5" id="text-1-5-2-1">
<p>
Note: To work effectively with Emacs on Mac you might want to reconfigure a few things in MacOS, namely:
</p>
<ul class="org-ul">
<li>Rebind Caps lock to function as a control key
</li>
<li>Free C-Space from being bound to spotlight (it's used in Emacs to mark region).
To do this see: System Preferences &gt; Keyboard &gt; Keyboard Shortcuts &gt; Spotlight. Rebind Spotlight to something else (i.e C-Option-Space).
</li>
</ul>
</div>

<ol class="org-ol"><li><a id="sec-1-5-2-1-1"></a>Problematic keybindings / conflicts<br  /><div class="outline-text-6" id="text-1-5-2-1-1">
<p>
With paredit: On Mac, C-&lt;left arrow&gt;/&lt;right arrow&gt; is already bound.
</p>
</div>
</li></ol>
</div>

<div id="outline-container-sec-1-5-2-2" class="outline-5">
<h5 id="sec-1-5-2-2"><span class="section-number-5">1.5.2.2</span> Configuration</h5>
<div class="outline-text-5" id="text-1-5-2-2">
<div class="org-src-container">

<pre class="src src-emacs-lisp">  (<span style="color: #000000; font-weight: bold;">if</span> (eq system-type 'darwin)
       (setq mac-option-modifier nil
          mac-command-modifier 'meta
          x-select-enable-clipboard t)
(<span style="color: #000000; font-weight: bold;">when</span> (memq window-system '(mac ns))
<span style="color: #b3b3b3; font-style: italic;">;; </span><span style="color: #b3b3b3; font-style: italic;">TODO: (jmn-package-install 'exec-path-from-shell)</span>
(exec-path-from-shell-initialize))
)
</pre>
</div>

<p>
Launching Emacs from Mac OS Spotlight (launchd) will not provide the same paths as if you would launch it from bash, the exec-path-from-shell package fixes this (useful for tools like leiningen and others)
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-1-6" class="outline-3">
<h3 id="sec-1-6"><span class="section-number-3">1.6</span> Keybindings</h3>
<div class="outline-text-3" id="text-1-6">
</div><div id="outline-container-sec-1-6-0-1" class="outline-5">
<h5 id="sec-1-6-0-1"><span class="section-number-5">1.6.0.1</span> Fonts, themes et c</h5>
<div class="outline-text-5" id="text-1-6-0-1">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(global-set-key '[f12] 'variable-pitch-mode)
(global-set-key '[f8] '(<span style="color: #000000; font-weight: bold;">lambda</span> () (interactive) (auto-complete-mode)))
(global-set-key '[f9] '(<span style="color: #000000; font-weight: bold;">lambda</span> () (interactive) (load-theme 'anti-zenburn t)))
(global-set-key '[f10] '(<span style="color: #000000; font-weight: bold;">lambda</span> () (interactive) (load-theme 'yellow-postits t)))
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-6-0-2" class="outline-5">
<h5 id="sec-1-6-0-2"><span class="section-number-5">1.6.0.2</span> Global org-mode bindings</h5>
<div class="outline-text-5" id="text-1-6-0-2">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(global-set-key (kbd <span style="color: #606060;">"C-c c"</span>) 'org-capture)
(global-set-key (kbd <span style="color: #606060;">"C-c o"</span>) 'org-capture-goto-last-stored)
(global-set-key (kbd <span style="color: #606060;">"C-c a"</span>) 'org-agenda)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-1-7" class="outline-3">
<h3 id="sec-1-7"><span class="section-number-3">1.7</span> Activity specific configuration ('cuz polycephaly)</h3>
<div class="outline-text-3" id="text-1-7">
</div><div id="outline-container-sec-1-7-1" class="outline-4">
<h4 id="sec-1-7-1"><span class="section-number-4">1.7.1</span> Writing</h4>
<div class="outline-text-4" id="text-1-7-1">
</div><div id="outline-container-sec-1-7-1-1" class="outline-5">
<h5 id="sec-1-7-1-1"><span class="section-number-5">1.7.1.1</span> ASCIIDoc mode (adoc-mode)</h5>
<div class="outline-text-5" id="text-1-7-1-1">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #000000; font-weight: bold;">use-package</span> <span style="color: #303030; font-weight: bold;">adoc-mode</span>
<span style="color: #303030;">:ensure</span> adoc-mode
<span style="color: #303030;">:mode</span> <span style="color: #606060;">"\\.asciidoc\\'"</span>
<span style="color: #303030;">:config</span>
(add-hook 'adoc-mode-hook (<span style="color: #000000; font-weight: bold;">lambda</span>() (buffer-face-mode t))))
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-7-1-2" class="outline-5">
<h5 id="sec-1-7-1-2"><span class="section-number-5">1.7.1.2</span> Visual line mode in text (and org) files</h5>
<div class="outline-text-5" id="text-1-7-1-2">
<p>
<code>visual-line-mode</code> is so much better than <code>auto-fill-mode</code>. It doesn't actually break the text into multiple lines - it only looks that way.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(remove-hook 'text-mode-hook #'turn-on-auto-fill)
(add-hook 'text-mode-hook 'turn-on-visual-line-mode)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-1-7-2" class="outline-4">
<h4 id="sec-1-7-2"><span class="section-number-4">1.7.2</span> Note-taking, activity management with org-mode</h4>
<div class="outline-text-4" id="text-1-7-2">
</div><div id="outline-container-sec-1-7-2-1" class="outline-5">
<h5 id="sec-1-7-2-1"><span class="section-number-5">1.7.2.1</span> Inline code (org-babel)</h5>
<div class="outline-text-5" id="text-1-7-2-1">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #b3b3b3; font-style: italic;">;; </span><span style="color: #b3b3b3; font-style: italic;">Load relevant languages</span>
(org-babel-do-load-languages
 'org-babel-load-languages
 '((emacs-lisp . t)
   (clojure . t)
   (<span style="color: #000000; font-weight: bold;">go</span> . t)))

<span style="color: #b3b3b3; font-style: italic;">;; </span><span style="color: #b3b3b3; font-style: italic;">Use cider as the clojure execution backend</span>
(setq org-babel-clojure-backend 'cider)

<span style="color: #b3b3b3; font-style: italic;">;; </span><span style="color: #b3b3b3; font-style: italic;">Let's have pretty source code blocks</span>
<span style="color: #b3b3b3; font-style: italic;">;; </span><span style="color: #b3b3b3; font-style: italic;">FIXME       org-src-fontify-natively t</span>
(setq org-edit-src-content-indentation 4
      org-src-tab-acts-natively t
      org-confirm-babel-evaluate nil)
</pre>
</div>

<p>
To make code blocks evaluate silently by default:
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(setq org-babel-default-header-args
          '((<span style="color: #303030;">:results</span> . <span style="color: #606060;">"silent"</span>)
                ))
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-7-2-2" class="outline-5">
<h5 id="sec-1-7-2-2"><span class="section-number-5">1.7.2.2</span> org-capture templates</h5>
<div class="outline-text-5" id="text-1-7-2-2">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(setq org-capture-templates
   '((<span style="color: #606060;">"n"</span> <span style="color: #606060;">"Short note"</span> entry (file+datetree <span style="color: #606060;">"~/org/notes.org"</span>) <span style="color: #606060;">""</span>)
     (<span style="color: #606060;">"t"</span> <span style="color: #606060;">"Todo"</span> entry (file+headline <span style="color: #606060;">"~/org/gtd.org"</span> <span style="color: #606060;">"Tasks"</span>)
          <span style="color: #606060;">"* TODO %?\n  %i\n  %a"</span>)))
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-7-2-3" class="outline-5">
<h5 id="sec-1-7-2-3"><span class="section-number-5">1.7.2.3</span> Notes</h5>
<div class="outline-text-5" id="text-1-7-2-3">
<p>
My bindings for org-mode
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">binding</th>
<th scope="col" class="left">M-x</th>
<th scope="col" class="left">description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">C-c a</td>
<td class="left">org-agenda</td>
<td class="left">Agenda view</td>
</tr>

<tr>
<td class="left">C-c c</td>
<td class="left">org-capture-goto-last-stored</td>
<td class="left">Capture via templates</td>
</tr>

<tr>
<td class="left">C-c o</td>
<td class="left">org-revisit</td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
</table>
<ul class="org-ul">
<li>TODO It would be neat if the above table could be used to generate
the required emacs-lisp for the keybindings.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-7-2-4" class="outline-5">
<h5 id="sec-1-7-2-4"><span class="section-number-5">1.7.2.4</span> Faces</h5>
<div class="outline-text-5" id="text-1-7-2-4">
<p>
Even if I sometimes use <code>variable-pitch-mode</code> when reading org-files, I still want the tables and code blocks to use fixed pitch (monospaced fonts).
</p>
</div>
</div>

<div id="outline-container-sec-1-7-2-5" class="outline-5">
<h5 id="sec-1-7-2-5"><span class="section-number-5">1.7.2.5</span> Monospace fonts for tables, quotes et c</h5>
<div class="outline-text-5" id="text-1-7-2-5">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(set-face-attribute 'org-table nil <span style="color: #303030;">:inherit</span> 'fixed-pitch)
(set-face-attribute 'org-code nil <span style="color: #303030;">:inherit</span> 'fixed-pitch)
(set-face-attribute 'org-block nil <span style="color: #303030;">:inherit</span> 'fixed-pitch)
(set-face-attribute 'org-verbatim nil <span style="color: #303030;">:inherit</span> 'fixed-pitch)
(set-face-attribute 'org-block-begin-line nil <span style="color: #303030;">:inherit</span> 'fixed-pitch)
(set-face-attribute 'org-block-end-line nil <span style="color: #303030;">:inherit</span> 'fixed-pitch)
(set-face-attribute 'font-lock-builtin-face nil <span style="color: #303030;">:inherit</span> 'fixed-pitch)
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-7-2-6" class="outline-5">
<h5 id="sec-1-7-2-6"><span class="section-number-5">1.7.2.6</span> Publishing from org-mode</h5>
<div class="outline-text-5" id="text-1-7-2-6">
</div><ol class="org-ol"><li><a id="sec-1-7-2-6-1"></a>Jekyll<br  /><div class="outline-text-6" id="text-1-7-2-6-1">
<p>
Function to insert a YAML front matter (at cursor point).
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #000000; font-weight: bold;">defun</span> <span style="color: #000000;">insert-YAML-front-matter</span> (string)
  <span style="color: #606060;">"Insert \label{ARG} \index{\nameref{ARG}} at point"</span>
  (interactive <span style="color: #606060;">"sString for \\title: "</span>)
  (insert <span style="color: #606060;">"#+BEGIN_HTML</span>
<span style="color: #606060;">---</span>
<span style="color: #606060;">layout: post</span>
<span style="color: #606060;">title: "</span> string <span style="color: #606060;">" </span>
<span style="color: #606060;">tags: </span>
<span style="color: #606060;">---</span>
<span style="color: #606060;">#+END_HTML"</span>))
</pre>
</div>
</div>
</li>
<li><a id="sec-1-7-2-6-2"></a>Blogging, with org2blog<br  /><div class="outline-text-6" id="text-1-7-2-6-2">
<p>
I have a wordpress.com blog and use <code>org2blog</code> to publish posts.
Authentication info is in <code>~/.authinfo</code> and follows the following form:
<code>machine myblog login myusername password myrealpassword</code>
</p>

<p>
See the<a href="https://github.com/punchagan/org2blog"> org2blog webpage</a> for more information.
</p>

<p>
To blog I usually just use <code>M-x org2blog/wp-post-subtree</code> from an org-mode subtree.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #000000; font-weight: bold;">unless</span> (package-installed-p 'org2blog)  
  (package-install 'org2blog))     

(<span style="color: #000000; font-weight: bold;">require</span> '<span style="color: #303030; font-weight: bold;">org2blog-autoloads</span>)
(setq org2blog/wp-blog-alist
      '((<span style="color: #606060;">"wordpress"</span>
         <span style="color: #303030;">:url</span> <span style="color: #606060;">"http://notatum.wordpress.com/xmlrpc.php"</span>
         <span style="color: #303030;">:username</span> <span style="color: #606060;">"jmnoz"</span>
         <span style="color: #303030;">:default-title</span> <span style="color: #606060;">"Hello World"</span>
         <span style="color: #303030;">:default-categories</span> (<span style="color: #606060;">"org2blog"</span> <span style="color: #606060;">"emacs"</span>)
         <span style="color: #303030;">:tags-as-categories</span> nil)
                ))

(<span style="color: #000000; font-weight: bold;">require</span> '<span style="color: #303030; font-weight: bold;">auth-source</span>) <span style="color: #b3b3b3; font-style: italic;">;; </span><span style="color: #b3b3b3; font-style: italic;">or nothing if already in the load-path</span>

(<span style="color: #000000; font-weight: bold;">let</span> (credentials)
  <span style="color: #b3b3b3; font-style: italic;">;; </span><span style="color: #b3b3b3; font-style: italic;">only required if your auth file is not already in the list of auth-sources</span>
  (add-to-list 'auth-sources <span style="color: #606060;">"~/.authinfo"</span>)
  (setq credentials (auth-source-user-and-password <span style="color: #606060;">"wordpress"</span>))
  (setq org2blog/wp-blog-alist
        `((<span style="color: #606060;">"wordpress"</span>
           <span style="color: #303030;">:url</span> <span style="color: #606060;">"http://notatum.wordpress.com/xmlrpc.php"</span>
           <span style="color: #303030;">:username</span> ,(car credentials)
           <span style="color: #303030;">:password</span> ,(cadr credentials)))))
</pre>
</div>
</div>
</li></ol>
</div>
</div>
<div id="outline-container-sec-1-7-3" class="outline-4">
<h4 id="sec-1-7-3"><span class="section-number-4">1.7.3</span> Programming</h4>
<div class="outline-text-4" id="text-1-7-3">
</div><div id="outline-container-sec-1-7-3-1" class="outline-5">
<h5 id="sec-1-7-3-1"><span class="section-number-5">1.7.3.1</span> Go autocomplete</h5>
<div class="outline-text-5" id="text-1-7-3-1">
<p>
Using <a href="https://github.com/nsf/gocode">https://github.com/nsf/gocode</a>
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #000000; font-weight: bold;">use-package</span> <span style="color: #303030; font-weight: bold;">auto-complete</span>
<span style="color: #303030;">:ensure</span> auto-complete)
(<span style="color: #000000; font-weight: bold;">use-package</span> <span style="color: #303030; font-weight: bold;">go-mode</span>
<span style="color: #303030;">:ensure</span> go-mode)
(<span style="color: #000000; font-weight: bold;">use-package</span> <span style="color: #303030; font-weight: bold;">go-autocomplete</span>
<span style="color: #303030;">:ensure</span> go-autocomplete)
(<span style="color: #000000; font-weight: bold;">require</span> '<span style="color: #303030; font-weight: bold;">auto-complete-config</span>)
(add-hook 'go-mode-hook 'auto-complete-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-7-3-2" class="outline-5">
<h5 id="sec-1-7-3-2"><span class="section-number-5">1.7.3.2</span> Clojure</h5>
<div class="outline-text-5" id="text-1-7-3-2">
<p>
Enable paredit-mode in clojure-mode and the cider REPL.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #000000; font-weight: bold;">use-package</span> <span style="color: #303030; font-weight: bold;">cider</span> 
<span style="color: #303030;">:ensure</span> t)
(<span style="color: #000000; font-weight: bold;">defun</span> <span style="color: #000000;">lisp-enable-paredit-hook</span> () (paredit-mode 1))
(add-hook 'clojure-mode-hook 'lisp-enable-paredit-hook)
(add-hook 'cider-repl-mode-hook 'paredit-mode)
</pre>
</div>
</div>

<ol class="org-ol"><li><a id="sec-1-7-3-2-1"></a>Cider configuration<br  /><div class="outline-text-6" id="text-1-7-3-2-1">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #000000; font-weight: bold;">require</span> '<span style="color: #303030; font-weight: bold;">cider</span>)
(setq nrepl-hide-special-buffers t
      cider-repl-pop-to-buffer-on-connect nil
      cider-popup-stacktraces nil
      cider-repl-popup-stacktraces t)
</pre>
</div>
</div>
</li></ol>
</div>

<div id="outline-container-sec-1-7-3-3" class="outline-5">
<h5 id="sec-1-7-3-3"><span class="section-number-5">1.7.3.3</span> Magit - nice git interface</h5>
<div class="outline-text-5" id="text-1-7-3-3">
</div><ol class="org-ol"><li><a id="sec-1-7-3-3-1"></a>Notes, set up<br  /><div class="outline-text-6" id="text-1-7-3-3-1">
<p>
To perform push/pull to remote repositories over SSH you need to configure your local key management.
</p>
</div>
<ol class="org-ol"><li><a id="sec-1-7-3-3-1-1"></a>How to configure ssh keys on MS Windows<br  /><div class="outline-text-7" id="text-1-7-3-3-1-1">
<p>
See here:
<a href="https://github.com/magit/magit/wiki/FAQ#windows-cannot-push-with-ssh-passphrase">https://github.com/magit/magit/wiki/FAQ#windows-cannot-push-with-ssh-passphrase</a>
</p>

<p>
<a href="https://help.github.com/articles/working-with-ssh-key-passphrases/#auto-launching-ssh-agent-on-msysgit">https://help.github.com/articles/working-with-ssh-key-passphrases/#auto-launching-ssh-agent-on-msysgit</a>
</p>

<p>
You will need to launch git bash to get ssh-agent running before starting Emacs, then <code>(load-file "~/.ssh/agent.env.el")</code>.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #000000; font-weight: bold;">if</span> (eq system-type 'windows-nt)  <span style="color: #b3b3b3; font-style: italic;">; </span><span style="color: #b3b3b3; font-style: italic;">Windows settings</span>
    (load-file <span style="color: #606060;">"~/.ssh/agent.env.el"</span>)
  )
</pre>
</div>
<ol class="org-ol">
<li>Install <a href="http://msysgit.github.io/">Git for Windows</a> (msysgit)
</li>
</ol>
<p>
Authentication is usually the tricky part (it can cause the git process to appear to hang on pull/push)
</p>

<p>
For HTTPS authentication see:
</p>
<ul class="org-ul">
<li><a href="https://gitcredentialstore.codeplex.com/">https://gitcredentialstore.codeplex.com/</a>
</li>
</ul>
</div>
</li>
<li><a id="sec-1-7-3-3-1-2"></a>How to configure SSH keys on Mac<br  /></li></ol>
</li>
<li><a id="sec-1-7-3-3-2"></a>General configuration<br  /><div class="outline-text-6" id="text-1-7-3-3-2">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #b3b3b3; font-style: italic;">;; </span><span style="color: #b3b3b3; font-style: italic;">(jmn/package-install 'magit)                 ; FIXME: Function currently broken.</span>
</pre>
</div>
</div>
</li></ol>
</div>
</div>
<div id="outline-container-sec-1-7-4" class="outline-4">
<h4 id="sec-1-7-4"><span class="section-number-4">1.7.4</span> Editing</h4>
<div class="outline-text-4" id="text-1-7-4">
<p>
By default the C-x C-u binding for upcase-region is disabled.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(put 'upcase-region 'disabled nil)
</pre>
</div>
</div>

<div id="outline-container-sec-1-7-4-1" class="outline-5">
<h5 id="sec-1-7-4-1"><span class="section-number-5">1.7.4.1</span> Digits increment/decrement</h5>
<div class="outline-text-5" id="text-1-7-4-1">
<p>
This function can be used with <code>C-u</code> to decrement or increment by a given number.
Source: <a href="http://www.emacswiki.org/emacs/IncrementNumber">Emacswiki IncrementNumber</a>
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #000000; font-weight: bold;">defun</span> <span style="color: #000000;">my-increment-number-decimal</span> (<span style="color: #303030; font-weight: bold;">&amp;optional</span> arg)
  <span style="color: #606060;">"Increment the number forward from point by 'arg'."</span>
  (interactive <span style="color: #606060;">"p*"</span>)
  (<span style="color: #000000; font-weight: bold;">save-excursion</span>
    (<span style="color: #000000; font-weight: bold;">save-match-data</span>
      (<span style="color: #000000; font-weight: bold;">let</span> (inc-by field-width answer)
        (setq inc-by (<span style="color: #000000; font-weight: bold;">if</span> arg arg 1))
        (skip-chars-backward <span style="color: #606060;">"0123456789"</span>)
        (<span style="color: #000000; font-weight: bold;">when</span> (re-search-forward <span style="color: #606060;">"[0-9]+"</span> nil t)
          (setq field-width (- (match-end 0) (match-beginning 0)))
          (setq answer (+ (string-to-number (match-string 0) 10) inc-by))
          (<span style="color: #000000; font-weight: bold;">when</span> (&lt; answer 0)
            (setq answer (+ (expt 10 field-width) answer)))
          (replace-match (format (concat <span style="color: #606060;">"%0"</span> (int-to-string field-width) <span style="color: #606060;">"d"</span>)
                                 answer)))))))

(global-set-key (kbd <span style="color: #606060;">"C-c i"</span>) 'my-increment-number-decimal)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-1-7-5" class="outline-4">
<h4 id="sec-1-7-5"><span class="section-number-4">1.7.5</span> Diffing (ediff)</h4>
<div class="outline-text-4" id="text-1-7-5">
</div><div id="outline-container-sec-1-7-5-1" class="outline-5">
<h5 id="sec-1-7-5-1"><span class="section-number-5">1.7.5.1</span> Ediff for org-files</h5>
<div class="outline-text-5" id="text-1-7-5-1">
<p>
Running ediff on org files might cause trouble with hidden lines. This
code attempts to remedy that.  (<a href="http://lists.gnu.org/archive/html/emacs-orgmode/2013-04/msg00400.html">source</a>)
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(add-hook 'ediff-prepare-buffer-hook 'f-ediff-prepare-buffer-hook-setup)
(<span style="color: #000000; font-weight: bold;">defun</span> <span style="color: #000000;">f-ediff-prepare-buffer-hook-setup</span> ()
  <span style="color: #b3b3b3; font-style: italic;">;; </span><span style="color: #b3b3b3; font-style: italic;">specific modes</span>
  (<span style="color: #000000; font-weight: bold;">cond</span> ((eq major-mode 'org-mode)
         (f-org-vis-mod-maximum))
        <span style="color: #b3b3b3; font-style: italic;">;; </span><span style="color: #b3b3b3; font-style: italic;">room for more modes</span>
        )
  <span style="color: #b3b3b3; font-style: italic;">;; </span><span style="color: #b3b3b3; font-style: italic;">all modes</span>
  (setq truncate-lines nil))
(<span style="color: #000000; font-weight: bold;">defun</span> <span style="color: #000000;">f-org-vis-mod-maximum</span> ()
  <span style="color: #606060;">"Visibility: Show the most possible."</span>
  (<span style="color: #000000; font-weight: bold;">cond</span>
   ((eq major-mode 'org-mode)
    (visible-mode 1)  <span style="color: #b3b3b3; font-style: italic;">; </span><span style="color: #b3b3b3; font-style: italic;">default 0</span>
    (setq truncate-lines nil)  <span style="color: #b3b3b3; font-style: italic;">; </span><span style="color: #b3b3b3; font-style: italic;">no `</span><span style="color: #303030; font-weight: bold; font-style: italic;">org-startup-truncated</span><span style="color: #b3b3b3; font-style: italic;">' in hook</span>
    (setq org-hide-leading-stars t))  <span style="color: #b3b3b3; font-style: italic;">; </span><span style="color: #b3b3b3; font-style: italic;">default nil</span>
   (t
    (message <span style="color: #606060;">"ERR: not in Org mode"</span>)
    (ding))))
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-1-7-6" class="outline-4">
<h4 id="sec-1-7-6"><span class="section-number-4">1.7.6</span> IRC</h4>
<div class="outline-text-4" id="text-1-7-6">
<p>
Hide Join/part/quit messages from IRC "lurkers" (people who aren't active).
</p>
<pre class="example">
(setq erc-lurker-hide-list '("JOIN" "PART" "QUIT"))
</pre>
</div>
</div>
<div id="outline-container-sec-1-7-7" class="outline-4">
<h4 id="sec-1-7-7"><span class="section-number-4">1.7.7</span> Jabber (XMPP)</h4>
<div class="outline-text-4" id="text-1-7-7">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #000000; font-weight: bold;">use-package</span> <span style="color: #303030; font-weight: bold;">jabber</span>
<span style="color: #303030;">:ensure</span> jabber
<span style="color: #303030;">:config</span> 
(setq jabber-invalid-certificate-servers '(<span style="color: #606060;">"jit.si"</span>))
)
</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: jmn</p>
<p class="date">Created: 2015-02-08 sÃ¶n 07:29</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 25.0.50.1 (<a href="http://orgmode.org">Org</a> mode 7.9.1)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
